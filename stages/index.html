<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Stages of Integration - ISV Portal</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">ISV Portal</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer Guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../getting-started/">Getting Started</a>
</li>

                        
                            
<li >
    <a href="../cf-concepts/">Cloud Foundry Concepts</a>
</li>

                        
                            
<li class="active">
    <a href="./">Stages of Integration</a>
</li>

                        
                            
<li >
    <a href="../development/">Development Process</a>
</li>

                        
                            
<li >
    <a href="../tile-documentation/">Documentation</a>
</li>

                        
                            
<li >
    <a href="../concourse/">Continuous Integration</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Commands</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../tile-generator/">Tile Generator</a>
</li>

        
            
<li >
    <a href="../pcf-command/">PCF Command</a>
</li>

        
            
<li >
    <a href="../concourse/">Concourse</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Components</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../service-brokers/">Service Brokers</a>
</li>

        
            
<li >
    <a href="../managed-services/">Managed Services</a>
</li>

        
            
<li >
    <a href="../dynamic-services/">Dynamic Services</a>
</li>

        
            
<li >
    <a href="../buildpacks/">Buildpacks</a>
</li>

        
            
<li >
    <a href="../embedded-agents/">Embedded Agents</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Setup</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../setup-pcfdev/">PCF Dev</a>
</li>

        
            
<li >
    <a href="../setup-pcf/">PCF</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../contacts/">Contacts</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../cf-concepts/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../development/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#stages-of-integration">Stages of Integration</a></li>
        
            <li><a href="#stage-1-user-provided-service">Stage 1. User-Provided Service</a></li>
        
            <li><a href="#stage-2-brokered-service">Stage 2. Brokered Service</a></li>
        
            <li><a href="#stage-3-managed-service">Stage 3. Managed Service</a></li>
        
            <li><a href="#stage-3b-high-availability">Stage 3b. High Availability</a></li>
        
            <li><a href="#stage-4-dynamic-service">Stage 4. Dynamic Service</a></li>
        
            <li><a href="#stage-4b-high-availability">Stage 4b. High Availability</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="stages-of-integration">Stages of Integration</h1>
<p>When integrating third-party software with Cloud Foundry, the integration
typically progresses through the same set of stages. We recommend this
staged approach because it enables early feedback on the value and the
design of the integration, which helps make better decisions about future
stages.</p>
<p>For service type integrations, the typical stages of integration are:</p>
<ol>
<li>User-Provided Service</li>
<li>Brokered Service</li>
<li>Managed Service</li>
<li>Dynamic Service</li>
</ol>
<p>Each of these is described in more detail below. In general, user-experience
and production-readiness improves as the integration
progresses through the stages. But none of the later stages is required.
Integration can stop and be declared complete (enough) after any of these.</p>
<p>For non-service integrations (such as applications or buildpacks), a similar
staged integration approach is often possible and desirable.</p>
<p><a name="ups"></a> </p>
<h2 id="stage-1-user-provided-service">Stage 1. User-Provided Service</h2>
<p>Either your software is available as a SaaS-offering, or you already have a
way to install software on-premise at a customer site. Or also likely, your
customer already has your software, is now adopting PCF, and wants to be
able to consume your software from applications deployed on PCF.</p>
<p>In most cases, customers can immediately start consuming your software from
their PCF applications through the user-provided service mechanism available
in Cloud Foundry. Tell them to create a user-provided service in their
application org and space using the command:</p>
<pre><code class="bash">cf create-user-provided-service &lt;my-service-name&gt; -p &lt;credentials&gt;'
</code></pre>

<p>or <code>cf cups</code> for short. The <code>&lt;credentials&gt;</code> argument should be a valid JSON
string that contains the URL and credentials necessary to connect to your
externally-deployed service.</p>
<p>By doing this, application developers can bind
to your service and write all code necessary to access it through a Cloud
Foundry service binding. It is a great way to determine what information
needs to be passed in the credential structure (useful in later integration
stages), verify that the integration works, and develop a test application
that can continue to be used for later stages. And from the application
developer perspective, once this works, later stages will not require any
further code changes. User-provided service bindings are fully compatible with
brokered service bindings.</p>
<p><a name="broker"></a> </p>
<h2 id="stage-2-brokered-service">Stage 2. Brokered Service</h2>
<p>The first real improvement in user experience is achieved by creating a
<a href="../service-brokers/">Service Broker</a> for your service. Service brokers allow
you to expose your services and plans in the <code>cf marketplace</code>, from which
your customers can then create their own service instances with a simple
<code>cf create-service</code>. It eliminates the need for them to know the URLs and
credentials for your services - those are managed automatically by the
broker instead.</p>
<p>Building a broker for a (still) externally deployed service is generally
a good way to be able to publish a first tile that adds real value for
customers who have both your software and PCF.</p>
<p><a name="managed"></a> </p>
<h2 id="stage-3-managed-service">Stage 3. Managed Service</h2>
<p>The next step is to get your service to actually be deployed on PCF rather
than externally as you've traditionally done it. This is usually one of the
more involved stages as you will have to change your packaging to allow your
service components to be deployed by <a href="http://bosh.io">bosh</a> onto the PCF
infrastructure.</p>
<p>You will have to learn about stemcells, bosh releases, and manifests. You
will also have to decide how your service maps to virtual machines and how
persistent storage is managed.</p>
<p>For a Minimal Viable Product (MVP) version of a managed service, we typically
recommend that you aim for a single, shared service instance, and don't yet
worry too much about High Availability of this instance. This stage is mostly
about getting the bosh packaging, deployment, and monitoring working
correctly.</p>
<p><a name="dynamic"></a> </p>
<h2 id="stage-3b-high-availability">Stage 3b. High Availability</h2>
<p>Once you have a managed service, you may decide to prioritize either
<a href="#dynamic">dynamic provisioning</a> of service instances, <em>or</em> making your
single shared service instance more highly available.</p>
<p>When properly configured, bosh monitors and restarts any failing processes
and virtual machines that are part of your service deployment. But to
further increase availability, you will have to think about spreading your
resources across multiple availability zones or even regions, and replicating
your persistent storage across those as well.</p>
<p><a name="dynamic"></a> </p>
<h2 id="stage-4-dynamic-service">Stage 4. Dynamic Service</h2>
<p>All prior stages assume that you have a single instance of your software
deployed. That instance can be multi-tenant, and it can possibly be manually
scaled to accomodate many concurrent applications. But for real production
deployments, most of your customer will want dedicated instances of your
service for each application.</p>
<p>With bosh 2.0, Cloud Foundry has the ability to dynamically provision a
completely new bosh deployment of your software for each service instance.
This is known as "dynamic" or "on-demand" service provisioning.</p>
<h2 id="stage-4b-high-availability">Stage 4b. High Availability</h2>
<p>If you hadn't already in Stage 3b, the final step would be to consider how
each of your dynamically provisioned service instances can be made more
highly available.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
